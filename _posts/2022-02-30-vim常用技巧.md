---
layout: post
---

```vim
" ===================================================================================================
" 插入模式下
" ===================================================================================================

<C-r>0  "插入寄存器的内容，在插入模式下

<C-w>  " -. 插入模式下，删除正在写的单词                                     " 如果是空格分割，就用W，如果删除该行前面所有用u

<C-r>/ " -. 插入模式下，插入搜索的内容

<C-f> " -. 插入模式下，缩进

" ===================================================================================================
" 普通模式下
" ===================================================================================================

cc " -. 删除当前行，进入插入模式

d} " -. 删除到该段结束

/vim/e " 搜索vim，光标停在vim尾部

g* " -. 搜索所有包含func的单词,使用g*，与*的区别：*只会搜索整个词是func

ci"
di" " -. 删除双引号了的一段话

dip " -. 在空白行上可以删除所有连续空白行

>} " -. 下个大括号内右缩进4个空格

<C-]>                " 当前定义的超链接、函数定义

<C-t>                " 返回跳转前位置

gD                   " 跳转到全局定义，并高亮，局部gd

gf                   " 打开光标所在单词的文件

]m                   " 跳转到下一个成员函数


" ===================================================================================================
" 命令行模式下
" ===================================================================================================

" ===================================================================================================
" 可视模式下
" ===================================================================================================


" ===================================================================================================
" 需求
" ===================================================================================================

" -. 将函数名都替换为function
" def f1():
"     pass
"
" def func2():
"     pass
/\v(f1|func2)
:%s//function/g


" -. 提取函数名(删除函数名外的所有内容)
" def f1():
"     pass
" def f2():
"     pass
:%!grep -E --only-matching --regexp='f\d\(\)'            " 匹配函数名


" -. json格式化
:%!python3 -m json.tool


" -. 将下列行逆序
" a
" b
" c
:sor! 													" 通过sor命令
:%g/./m0												" 通过m[ove]命令


" -. 删除偶数行
:g/^/+1 d


" 复制vim的内容到剪贴板
" 先去随便复制个东西，在到vim里
:reg                                                   " 查看剪贴板复制的在哪个寄存器，一般在*
VG"*y												   " 复制vim的内容到响应寄存器就行


" -. 挑选B2>B1的行
" A1,A2,B1,B2
" 13,12,23,22
" 11,15,26,26
" 18,14,23,24
:%!awk -F , '{if($4>$3){print $0}}'


" -. 删除函数中的所有内容
" void func() {
"     int a = 123;
"     int b = 234;
"     int c = 256;
" }
diB                                                " 如果需要大括号也删，则daB，小括号则用b，直接用di}也行


" -. 插入模式下，计算123*234的值，并将值输入
<C-r>=123*234


" -. vim中执行代码，如生成如下：
" 0-1
" 1-2
" 2-3
" 先编写python代码块
" for i in range(3):
"     print('%d-%d' %  (i, i+1))
" 选中代码块执行如下
:'<,'>!python


" -. 输入时，跳转复制单词，再回来粘贴
yiw                        " 复制单词
gi<C-r>"                   " gi跳转回上次插入的地方，寄存器粘贴


" 1. 根据json格式日志中的timestamp排序
/\v(timestamp":")@<=\d*    " 通过零宽断言匹配timestamp字段的值


" -. vim的学习
:help index                " 开头
:help tips                 " 文档整理的一些tips
```
